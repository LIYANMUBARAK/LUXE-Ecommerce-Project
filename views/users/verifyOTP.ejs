<%- include("../layouts/userHeader.ejs") %>

	<!-- Start Header Area -->
	<header class="header_area sticky-header">
		<div class="main_menu">
			<nav class="navbar navbar-expand-lg navbar-light main_box">
				<div class="container">
					<!-- Brand and toggle get grouped for better mobile display -->
					<a class="navbar-brand logo_h" href="/">LUXE</a>
					<button class="navbar-toggler" type="button" data-toggle="collapse"
						data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
						aria-expanded="false" aria-label="Toggle navigation">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse offset" id="navbarSupportedContent">
						<ul class="nav navbar-nav menu_nav ml-auto">
							<li class="nav-item"><a class="nav-link" href="/">Home</a></li>
							<li class="nav-item"><a class="nav-link" href="/shop">Shop</a></li>




						</ul>
						<ul class="nav navbar-nav navbar-right">
							<li class="nav-item"><a href="#" class="cart"><span class="ti-bag"></span></a></li>
							<li class="nav-item">
								<button class="search"><span class="lnr lnr-magnifier" id="search"></span></button>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</div>
		<div class="search_input" id="search_input_box">
			<div class="container">
				<form class="d-flex justify-content-between">
					<input type="text" class="form-control" id="search_input" placeholder="Search Here">
					<button type="submit" class="btn"></button>
					<span class="lnr lnr-cross" id="close_search" title="Close Search"></span>
				</form>
			</div>
		</div>
	</header>
	<!-- End Header Area -->



	<!--================Login Box Area =================-->
	<section class="login_box_area section_gap">
		<div class="container">
			<div class="row">

				<div class="col-lg-12">
					<div class="login_form_inner">
						<h3>Verify OTP</h3>
						<form class="row login_form" method="post" id="contactForm" novalidate="novalidate">
							<div class="col-md-12 form-group">
								<input type="text" class="form-control" id="name" name="OTP" placeholder="Enter the OTP"
									onfocus="this.placeholder" onblur="this.placeholder = 'Enter the OTP'">
							</div>

							<div class="col-md-12 form-group">
								<button type="submit" value="submit" class="primary-btn">Verify OTP</button>
								<% if(typeof errMessage !=='undefined' ){ %>
									<h4 style="color: red;">
										<%= errMessage %>
									</h4>
									<% } %>
										<a href="/resendOTP" id="resend-link">Resend OTP <span style="color:red" id="timer"></span></a> 
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!--================End Login Box Area =================-->

	<!-- start footer Area -->

	<!-- End footer Area -->
<script>
	let resendLink = document.getElementById('resend-link');
    let timerElement = document.getElementById('timer');
    let timer = 30; // Set the timer to 60 seconds

    function startTimer() {
        timer--;
        if (timer >= 0) {
            timerElement.innerHTML = `(${timer}s)`
            setTimeout(startTimer, 1000); // Call the function again after 1 second
        } else {
            resendLink.style.color = 'red'
            resendLink.style.pointerEvents = 'auto'
            timerElement.style.display = 'none'; // Hide the timer
            timer = 60; // Reset the timer to 60 seconds
        }
    }

    window.onload = () => {
        resendLink.style.pointerEvents = 'none'; // Hide the resend link
        resendLink.style.color = '#696969'
        startTimer();

    };

    // Call the function to start the timer when the resend link is clicked
    resendLink.addEventListener('click', () => {
        resendLink.style.pointerEvents = 'none';
        resendLink.style.color = '#696969'
        timerElement.style.display = 'inline-block'; // Show the timer
        startTimer();
        // code to resend the OTP

    });
</script>
	<%- include('../layouts/userFooter.ejs') %>